\documentclass[a4]{article}

\usepackage{amssymb,amsmath,IEEEtrantools}
\usepackage{listings}
\usepackage{color,xcolor}
%\usepackage[dvipdfmx]{graphicx}
\usepackage{graphicx}
\usepackage{atbegshi}
\AtBeginShipoutFirst{\special{pdf:tounicode EUC-UCS2}}
% \usepackage[dvipdfmx,a4paper,bookmarks=true,colorlinks=true]{hyperref}
\usepackage[a4paper,bookmarks=true,colorlinks=true]{hyperref}
\usepackage{xltxtra}

\setmainfont{IPAPMincho}
\setsansfont{IPAPGothic}
\setmonofont{IPAGothic}
\XeTeXlinebreaklocale "ja"

\setlength{\textwidth}{17cm}
\setlength{\textheight}{24cm}
\setlength{\leftmargin}{-1cm}
\setlength{\topmargin}{-2cm}
\setlength{\oddsidemargin}{0cm}
\setlength{\evensidemargin}{0cm}


\lstset{
    basicstyle=\footnotesize\ttfamily,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    extendedchars=true,
    frame=single,
    keepspaces=true,
    language=Python,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    stepnumber=1,
    tabsize=4,
    caption=\lstname
}
\author{}
\title{}

\begin{document}
\end{document}
